{{> header}}

<style type="text/css">
.posts {display: flex;padding:1.3rem;flex-wrap: wrap;}
.post {padding:12px;margin-bottom:1rem;flex-basis: 25%;width: 25%;box-sizing:border-box;
font-size: 14px;color: #aaa;text-decoration: none;text-align: center;}
.post .date {visibility: hidden;display: block;}
.post .thumbnail {box-sizing:border-box;outline-style: inset;outline:1px solid transparent;width: 100%;height: 0;padding-bottom: 100%;display: block;overflow: hidden;position: relative;margin-bottom: 0.75rem}
.post:hover .thumbnail {outline-color: #ddd}
.post:hover .date {visibility: visible;}
.post img {max-width: 100%;max-height:100%;height: auto;margin: 0 auto}

.post.no-thumbnail .thumbnail {color:green;border: 1px solid green;font-size: 18px;text-align: center;}
.post.no-thumbnail .date {display: block;}

</style>

<div style="display:flex">
  {{> sidebar}}
  <div style="flex-grow:1;flex-basis:500px;">
<!--     <hr style="border:none;margin:1.3rem 0;border-top:1px solid #f2f2f2">
 -->
    <div class="posts">


{{^entries.length}}
<p style="margin:0">No posts.</p>
{{/entries.length}}

{{#entries}}

<a class="post {{^thumbnail.medium}}no-thumbnail{{/thumbnail.medium}}" href="{{url}}">
  <style type="text/css">
  .fadeMe {   visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s, visibility 0.3s;}
  .fadeIn { visibility: visible;
    opacity: 1;
    transition: opacity 0.3s, visibility 0.3s;}
  </style>
  <span class="thumbnail">
    <span style="top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center">
      {{#thumbnail.medium}}
      <img class="fadeMe" onload="this.className +=' fadeIn';" src="{{url}}"/>
      <noscript>  
      <img src="{{url}}">
      </noscript>
      {{/thumbnail.medium}}
      {{^thumbnail.medium}}
      <span style="width:100%">
        <span style="margin:12px 32px 0;display:block;">
        {{title}}
      </span>
      <span date-from-now="{{dateStamp}}" style="font-size:14px">{{date}}</span>
    </span>
      {{/thumbnail.medium}}
    </span>
  </span>
  {{#thumbnail.medium}}
  <span>{{title}}</span>
  <span class="date">Added       <span date-from-now="{{dateStamp}}">{{date}}</span>
</span>
  {{/thumbnail.medium}}
</a>

{{/entries}}

</div>
<div style="clear:both"></div>
<div style="border-top:1px solid transparent;color:#666;display:block;font-size:12px;opacity:0.5;text-decoration:none;padding:0.75em 1.5em;margin-left:10px">

  
  <div style="float:right;padding-right:2.5rem">
    <div class="page-numbers">
      
    </div>
    <style type="text/css">
    .page-numbers a {
      color: #666;
      text-decoration: none;
      border:1px solid rgba(0,0,0,0.05);margin: 4px;padding: 2px 6px}
    </style>
    <script type="text/javascript">

    document.querySelectorAll('.page-numbers').forEach(function(el){
      for (var i = 1; i <= {{pagination.total}};i++) 
        el.innerHTML += '<a href="/page/' + i + '" id="number-template">' + i + '</a>';
    });

    </script>
  {{#pagination}}Page {{current}} of {{total}}{{/pagination}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  {{#pagination.next}}<a style="text-decoration:none;color:inherit" href="/page/{{pagination.next}}">Next page &rarr;</a>{{/pagination.next}}
  </div>
</div>


</div>
</div>

{{> footer}}