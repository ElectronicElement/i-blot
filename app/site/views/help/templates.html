{{> head}}
{{> header}}
{{> sidebar}}

{{=[[ ]]=}}

<div class="pt5 w-right-offset">
<div class="measure">

The best way to learn how to create a template is to read the <a href="https://github.com/davidmerfield/Blot/tree/master/app/templates/console">source code</a> for an existing template. Blot's templates will be familiar to those who have designed templates for other blogging platforms. You will need to know a little <a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a>. </p>

<p>All of Blot's templates are <a href="https://github.com/davidmerfield/Blot/blob/master/LICENSE">dedicated to the public domain</a>, so you can use, modify and share them freely.</p>

<h2>Creating a template</h2>
<p>You can <a href="/design/new">create a new template</a> on the <a href"/design">design page</a> of your blog's dashboard. To edit an existing template, first create a new template and clone the template you wish to modify.</p>


<h2>Editing a template</h2>
<p>You can edit a template on <a href="/design">your blog's dashboard</a>, or sync the template's source files to your Dropbox and edit them locally.</p>



<h2>Rendering</h2>
<p>Blot's templates are written in <a href="https://mustache.github.io/">Mustache</a>. You should read <a href="https://mustache.github.io/mustache.5.html">Mustache's documentation</a>. The templates are used to render the blog posts which Blot generates from the files in your folder.</p>

<p>For example, this template produces a list of links to all of the blog posts on your blog:</p>
</div>

<pre class="code html"><code>
<html>
<title>{{title}}</title>
<body>
{{#all_posts}}
  <a href="{{url}}">{{title}}</a><br>
{{/all_posts}}
</body>
</html>
</code></pre>

<div class="measure">
<br><br>
<p>Blot will render this template using data, specific and changing, called a view. This view takes the form of a JSON object. Blot generates the view based on the tags used in the template. In this case, the view will look something like this:</p>
</div>
<pre class="code javascript"><code>
{
  title: 'Your blog',
  all_posts:[
    {title: 'First blog post', url: '/first-blog-post'},
    {title: 'Second blog post', url: '/second-blog-post'},
    {title: 'Third blog post', url: '/third-blog-post'},    
  ] 
}
</code></pre>
<p>Notice how the value of {{title}} varies depending on the context in which it is used. If you don't understand this, go and read Mustache's documentation.</p>
<div class="measure">

<br><br>


<div class="fw6">Viewing the view</div>
If you append the query string ?json=true to any URL on Blot, you can retrieve the JSON data which comprises the view used to render its template. 
<div class="measure">
<br><br><br><br>
<div class="fw6">Custom metadata</div>
You can specify custom entry metadata:
</div>

<pre class="file"><code>Author: Eric Blair

# Homage to Catalonia

In the Lenin Barracks in Barcelona, the day before...</code></pre>

Metadata keys are case insensitive and can contain a single word. Use custom metadata in your template like this:</p>

<pre class="code html"><code>
{{#entry}}

  {{#metadata.author}}
  <p>Posted by {{metadata.author}}</p>
  {{/metadata.author}}

  {{^metadata.author}}
  <p>Posted by the editor</p>
  {{/metadata.author}}

{{/entry}}
</code></pre>

<div class="measure">
<div class="fw6">Helper functions</div>
Blot exposes some general purpose functions as Mustache lambdas. Note that you can pass another variable from the view to these functions.
</div>
<br><br>
<table>
<thead>
<tr>
<th>The text inside the tag&#x2026;</th>
<th>is replaced with&#x2026;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{#encodeURIComponent}}...{{/encodeURIComponent}}</code></td>
<td>The same text, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">encoded appropriately</a> for a URI component</td>
</tr>
</tbody>
</table>
<br><br><br><br>
<div class="fw6">Lists</div>
You can uses these variables to render lists of posts
<br><br>
<table>
<thead>
<tr>
<th>The tag&#x2026;</th>
<th>is replaced with&#x2026;</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{{#all_posts}}...{{/all_posts}}</code></td>
<td>Every post ever published</td>
</tr>
<tr>
<td><code>{{#recent_posts}}...{{/recent_posts}}</code></td>
<td>25 most recent posts on your site</td>
</tr>
<tr>
<td><code>{{#archives}}...{{/archives}}</code></td>
<td>A list of years, months and the posts published on them</td>
</tr>
<tr>
<td><code>{{#all_tags}}...{{/all_tags}}</code></td>
<td>the URL to your site&#x2019;s avatar</td>
</tr>
</tbody>
</table>


</div>

<h2>Routing</h2>
<p>When a request from one of your readers arrives at your blog, Blot follows these steps to work out what to send in response. This process is known as <em>routing</em>.</p>

<ol class="normal">
  <li>Check your site&apos;s template to see if there is a route which matches the path. If there is, <a href="#rendering">render the template</a> and send the HTML as a response.</li>
  <li>Check your site&apos;s folder to see if there is a file which matches the path. <a href="/help/guides/static-server">Send the file</a> as a response if it matches.</li>
  <li>Check your site&apos;s list of redirects to see if you have set one up for this path. Redirect the request if one exists.</li>
  <li>Render your blog's error page if it exists, or use Blot&apos;s if it doesn't.</li>
</ol>
<br>
You can <a href="https://github.com/davidmerfield/Blot/tree/master/app/blogs">read the source code</a> which defines these steps for a more precise idea of how things work.


<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
</div>

[[={{ }}=]]
{{> footer}}